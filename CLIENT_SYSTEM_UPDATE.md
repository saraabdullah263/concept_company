# ุชุญุฏูุซ ูุธุงู ุงูุนููุงุก - Client System Update

## ุงูุชุบููุฑุงุช ุงููููุฐุฉ โ

### 1. ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ููู SQL**: `update_hospitals_to_clients.sql`
- ุฅุถุงูุฉ ุญููู ุฌุฏูุฏุฉ ูุฌุฏูู `hospitals`:
  - `client_type`: ููุน ุงูุนููู (ุนูุงุฏุฉุ ูุนููุ ูุณุชุดููุ ูุฑูุฒ ุทุจู)
  - `governorate`: ุงููุญุงูุธุฉ
  - `city`: ุงููุฏููุฉ
  - `detailed_address`: ุงูุนููุงู ุจุงูุชูุตูู (ุงุฎุชูุงุฑู)
  - `latitude`, `longitude`: ุงูุฅุญุฏุงุซูุงุช
  - `parent_entity`: ุงูุฌูุฉ ุงูุชุงุจุน ููุง
  - `annual_visits_count`: ุนุฏุฏ ุงูุฒูุงุฑุงุช ุงูุณูููุฉ
  - `annual_contract_price`: ุณุนุฑ ุงูุชุนุงูุฏ ุงูุณููู
  - `contact_person_name`: ุงุณู ูุณุฆูู ุงูุชูุงุตู
  - `contact_mobile`: ุฑูู ุงูููุจุงูู
  - `contact_landline`: ุฑูู ุฃุฑุถู
  - `contact_email`: ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

### 2. ุชุญุฏูุซ ูุงุฌูุฉ ุฅุถุงูุฉ/ุชุนุฏูู ุงูุนููู
- **ููู**: `src/components/contracts/HospitalForm.jsx`
- ุชู ุฅุนุงุฏุฉ ูุชุงุจุฉ ุงูููุฑู ุจุงููุงูู ูุน ุงูุญููู ุงูุฌุฏูุฏุฉ
- ุชูุธูู ุงูุญููู ูู ุฃูุณุงู:
  - **ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ**: ุงูุงุณูุ ููุน ุงูุนูููุ ุงูุฌูุฉ ุงูุชุงุจุน ููุง
  - **ุงููููุน**: ุงููุญุงูุธุฉ (ูุงุฆูุฉ ููุณุฏูุฉ)ุ ุงููุฏููุฉุ ุงูุนููุงู ุงูุชูุตูููุ ุงูุฅุญุฏุงุซูุงุช
  - **ุจูุงูุงุช ุงูุชุนุงูุฏ**: ุนุฏุฏ ุงูุฒูุงุฑุงุช ุงูุณูููุฉุ ุณุนุฑ ุงูุชุนุงูุฏ ุงูุณููู
  - **ุจูุงูุงุช ุงูุชูุงุตู**: ุงุณู ุงููุณุฆููุ ุงูููุจุงููุ ุงูุฃุฑุถูุ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  - **ุงูุญุงูุฉ**: ูุดุท/ุบูุฑ ูุดุท

### 3. ููุฒุฉ ุงุฎุชูุงุฑ ุงููููุน ูู ุงูุฎุฑูุทุฉ
- **ุฒุฑ "ุงุฎุชุฑ ูู ุงูุฎุฑูุทุฉ"**: ููุชุญ Google Maps ููุจุญุซ ุนู ุงููููุน
- **Modal ุชุนูููุงุช**: ูุธูุฑ ุฎุทูุงุช ูุงุถุญุฉ ููุณุฎ ุงูุฅุญุฏุงุซูุงุช
- **ุนุฑุถ ุงูุนููุงู**: ุจุนุฏ ุงุฎุชูุงุฑ ุงููููุน ูุธูุฑ ุงูุนููุงู ุงููุงูู ุจุงูุนุฑุจู (ุจุฏู ุงูุฃุฑูุงู)
- **ุฒุฑ "ูููุนู ุงูุญุงูู"**: ูุชุญุฏูุฏ ุงููููุน ุงูุญุงูู ุชููุงุฆูุงู
- **ุงูุฅุญุฏุงุซูุงุช ูุฎููุฉ**: ุชูุญูุธ ูู hidden inputs

### 4. ุชุญุฏูุซ ุตูุญุฉ ุงูุนููุงุก
- **ููู**: `src/pages/contracts/Hospitals.jsx`
- ุชุญุฏูุซ ุฏุงูุฉ `handleSubmit` ูุญูุธ ุฌููุน ุงูุญููู ุงูุฌุฏูุฏุฉ
- ุชุญุฏูุซ ุงูุจุญุซ ููุดูู ุงููุญุงูุธุฉ ูุงููุฏููุฉ
- ุชุญุฏูุซ ุงููุตูุต ูู "ูุณุชุดูู" ุฅูู "ุนููู"

### 5. ุชุญุฏูุซ ูุงุฆูุฉ ุงูุนููุงุก
- **ููู**: `src/components/contracts/HospitalList.jsx`
- ุฅุถุงูุฉ ุนููุฏ "ุงูููุน" ูุนุฑุถ ููุน ุงูุนููู
- ุฅุถุงูุฉ ุนููุฏ "ุจูุงูุงุช ุงูุชุนุงูุฏ" ูุนุฑุถ:
  - ุนุฏุฏ ุงูุฒูุงุฑุงุช ุงูุณูููุฉ
  - ุณุนุฑ ุงูุชุนุงูุฏ ุงูุณููู
- ุชุญุฏูุซ ุนุฑุถ ุงููููุน ููุธูุฑ ุงููุญุงูุธุฉ ูุงููุฏููุฉ
- ุชุญุฏูุซ ุนุฑุถ ุจูุงูุงุช ุงูุงุชุตุงู

### 6. ุชุญุฏูุซ ุงููุตุทูุญุงุช ูู ุงููููุงุช ุงูุฃุฎุฑู
- **Sidebar**: ุชุบููุฑ "ุงููุณุชุดููุงุช" ุฅูู "ุงูุนููุงุก"
- **ContractForm**: ุชุบููุฑ "ุงููุณุชุดูู" ุฅูู "ุงูุนููู"
- **RouteForm**: ุชุบููุฑ "ุงููุณุชุดููุงุช" ุฅูู "ุงูุนููุงุก"
- **Dashboard**: ุชุบููุฑ "ุงููุณุชุดููุงุช ุงููุดุทุฉ" ุฅูู "ุงูุนููุงุก ุงููุดุทูู"
- **Contracts**: ุชุญุฏูุซ ุงููุตูุต

## ุงูุฎุทูุงุช ุงููุชุจููุฉ ๐

### 1. ุชุดุบูู SQL Migration
```sql
-- ูู ุจุชุดุบูู ุงูููู ูู Supabase SQL Editor:
update_hospitals_to_clients.sql
```

### 2. ุงุฎุชุจุงุฑ ุงููุธุงู
- [ ] ุฅุถุงูุฉ ุนููู ุฌุฏูุฏ ูุน ุฌููุน ุงูุญููู
- [ ] ุงุฎุชุจุงุฑ ุงุฎุชูุงุฑ ุงููููุน ูู ุงูุฎุฑูุทุฉ
- [ ] ุชุนุฏูู ุนููู ููุฌูุฏ
- [ ] ุงูุจุญุซ ุนู ุนููู ุจุงููุญุงูุธุฉ/ุงููุฏููุฉ
- [ ] ุงูุชุฃูุฏ ูู ุธููุฑ ููุน ุงูุนููู ูุจูุงูุงุช ุงูุชุนุงูุฏ ูู ุงููุงุฆูุฉ
- [ ] ุงุฎุชุจุงุฑ ุฅูุดุงุก ุนูุฏ ูุน ุนููู
- [ ] ุงุฎุชุจุงุฑ ุฅูุดุงุก ุฑุญูุฉ ูุน ุนููู

### 3. ูููุงุช ุฃุฎุฑู ุชุญุชุงุฌ ุชุญุฏูุซ (ุงุฎุชูุงุฑู)
ุงููููุงุช ุงูุชุงููุฉ ุชุญุชูู ุนูู ูุตุทูุญ "ูุณุชุดูู" ููููุง ููุณุช ุญุฑุฌุฉ:
- `src/pages/reports/Reports.jsx` - ุชูุงุฑูุฑ ุงููุณุชุดููุงุช
- `src/pages/accounting/Invoices.jsx` - ุงูุจุญุซ ูู ุงูููุงุชูุฑ
- `src/pages/accounting/InvoiceDetails.jsx` - ุชูุงุตูู ุงููุงุชูุฑุฉ
- `src/pages/routes/RouteDetails.jsx` - ุชูุงุตูู ุงูุฑุญูุฉ
- `src/components/contracts/ContractList.jsx` - ูุงุฆูุฉ ุงูุนููุฏ
- `src/components/routes/PrintReceipts.jsx` - ุทุจุงุนุฉ ุงูุฅูุตุงูุงุช

## ุฃููุงุน ุงูุนููุงุก ุงููุชุงุญุฉ

```javascript
const clientTypes = {
  clinic: 'ุนูุงุฏุฉ',
  lab: 'ูุนูู',
  hospital: 'ูุณุชุดูู',
  medical_center: 'ูุฑูุฒ ุทุจู'
};
```

## ุงููุญุงูุธุงุช ุงููุตุฑูุฉ ุงููุชุงุญุฉ

ุงููุงุฆูุฉ ุชุดูู ุฌููุน ุงููุญุงูุธุงุช ุงููุตุฑูุฉ (27 ูุญุงูุธุฉ) ูู ูุงุฆูุฉ ููุณุฏูุฉ.

## ุงูุญููู ุงูุฌุฏูุฏุฉ

### ุจูุงูุงุช ุงูุชุนุงูุฏ
- **ุนุฏุฏ ุงูุฒูุงุฑุงุช ุงูุณูููุฉ** (`annual_visits_count`): ุนุฏุฏ ุงูุฒูุงุฑุงุช ุงููุชูู ุนูููุง ุณูููุงู
- **ุณุนุฑ ุงูุชุนุงูุฏ ุงูุณููู** (`annual_contract_price`): ุฅุฌูุงูู ูููุฉ ุงูุชุนุงูุฏ ุจุงูุฌููู ุงููุตุฑู

### ููุฒุฉ ุงููููุน
- ุงุฎุชูุงุฑ ุงููููุน ูู Google Maps
- ุนุฑุถ ุงูุนููุงู ุงููุงูู ุจุงูุนุฑุจู
- ุญูุธ ุงูุฅุญุฏุงุซูุงุช ุชููุงุฆูุงู
- ุฑุงุจุท ูุนุฑุถ ุงููููุน ุนูู Google Maps

## ููุงุญุธุงุช ูููุฉ

1. **ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ**: ุชู ุงูุญูุงุธ ุนูู ุงูุญููู ุงููุฏููุฉ (`address`, `contact_person`, `contact_phone`) ูุถูุงู ุนูู ุงูุจูุงูุงุช ุงููุฏููุฉ
2. **ุงูุญููู ุงูุงุฎุชูุงุฑูุฉ**: ูุนุธู ุงูุญููู ุงูุฌุฏูุฏุฉ ุงุฎุชูุงุฑูุฉ ูุง ุนุฏุง ุงูุงุณูุ ููุน ุงูุนูููุ ุงููุญุงูุธุฉุ ุงููุฏููุฉุ ุงุณู ุงููุณุฆููุ ูุฑูู ุงูููุจุงูู
3. **ุงูููุฑุณุฉ**: ุชู ุฅุถุงูุฉ ููุงุฑุณ ุนูู `client_type`, `governorate`, `city` ูุชุญุณูู ุงูุฃุฏุงุก
4. **ุงูุฅุญุฏุงุซูุงุช**: ูุชู ุญูุธูุง ูู hidden inputs ููุง ุชุธูุฑ ูููุณุชุฎุฏูุ ููุท ุงูุนููุงู ูุธูุฑ

